<!DOCTYPE html>
<html>
<head>
    <title>Fishing Leaderboard</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: black;
            color: white;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid white;
        }
        th, td {
            padding: 15px;
            text-align: left;
        }
        th {
            background-color: #333;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #444;
        }
        #userForm, #loginForm, #catchForm, #hostLoginForm {
            margin-bottom: 20px;
        }
        input[type="text"], input[type="password"], input[type="number"], input[type="pin"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #333;
            color: white;
        }
        button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 4px; /* Rounded corners for the button */
            cursor: pointer;
            overflow: hidden;
            position: relative;
            z-index: 1;
            font-family: 'Press Start 2P', cursive;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff69b4, purple, orange); /* Pink, Purple, Orange */
            z-index: -1;
            transition: left 0.3s ease; /* Faster transition */
            border-radius: 4px; /* Rounded corners for the gradient */
        }
        button:hover:before {
            left: 0;
            background: linear-gradient(45deg, #ff69b4, purple, orange); /* Hover effect */
        }
        .pulsate {
            animation: pulsate 15s infinite; /* Really slow pulsation */
        }
        @keyframes pulsate {
            0% {
                color: #ff69b4; /* Pink */
            }
            25% {
                color: purple;
            }
            50% {
                color: orange;
            }
            75% {
                color: #ff69b4; /* Pink */
            }
            100% {
                color: #ff69b4; /* Pink */
            }
        }
        .heading-pulsate {
            animation: headingPulsate 15s infinite; /* Really slow pulsation */
        }
        @keyframes headingPulsate {
            0% {
                color: #ff69b4; /* Pink */
            }
            25% {
                color: purple;
            }
            50% {
                color: orange;
            }
            75% {
                color: #ff69b4; /* Pink */
            }
            100% {
                color: #ff69b4; /* Pink */
            }
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1 class="heading-pulsate">Fishing Tournament 2</h1>
    <div id="userForm">
        <h2>Register</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button id="registerButton">Register</button>
    </div>
    <div id="loginForm">
        <h2>Login</h2>
        <input type="text" id="loginUsername" placeholder="Username">
        <input type="password" id="loginPassword" placeholder="Password">
        <button id="loginButton">Login</button>
    </div>
    <table>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Total Points</th>
                <th class="hidden">Delete</th>
            </tr>
        </thead>
        <tbody id="leaderboard">
            <!-- Leaderboard entries will be dynamically added here -->
        </tbody>
    </table>
    <div id="catchForm" class="hidden">
        <h2>Add Catch</h2>
        <input type="number" id="bluegill" placeholder="Number of Bluegill">
        <input type="number" id="bass" placeholder="Number of Bass">
        <input type="number" id="catfish" placeholder="Number of Catfish">
        <input type="number" id="weight" placeholder="Total Weight (optional)">
        <button id="addCatchButton">Add Catch</button>
    </div>
    <div id="hostLoginForm">
        <h2>Host Login</h2>
        <input type="password" id="hostPin" placeholder="Enter Pin">
        <button id="hostLoginButton">Login as Host</button>
    </div>
    <script>
        const users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = null;

        document.getElementById('registerButton').addEventListener('click', register);
        document.getElementById('loginButton').addEventListener('click', login);
        document.getElementById('addCatchButton').addEventListener('click', addCatch);
        document.getElementById('hostLoginButton').addEventListener('click', hostLogin);

        function register() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username && password) {
                users.push({ username, password, catches: [] });
                localStorage.setItem('users', JSON.stringify(users));
                document.getElementById('userForm').style.display = 'none';
                document.getElementById('loginForm').style.display = 'block';
            } else {
                alert("Please enter both username and password.");
            }
        }

        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            currentUser = users.find(user => user.username === username && user.password === password);

            if (currentUser) {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('catchForm').style.display = 'block';
                updateLeaderboard();
            } else {
                alert("Incorrect username or password.");
            }
        }

        function addCatch() {
            if (currentUser) {
                const bluegill = parseInt(document.getElementById('bluegill').value) || 0;
                const bass = parseInt(document.getElementById('bass').value) || 0;
                const catfish = parseInt(document.getElementById('catfish').value) || 0;
                const weight = parseInt(document.getElementById('weight').value) || 0;

                const newCatch = { bluegill, bass, catfish, weight, username: currentUser.username };
                currentUser.catches.push(newCatch);

                localStorage.setItem('users', JSON.stringify(users));
                updateLeaderboard();
            } else {
                alert("You must be logged in to add a catch.");
            }
        }

        function calculatePoints(catchEntry) {
            return catchEntry.bluegill * 1 + catchEntry.bass * 5 + catchEntry.catfish * 10;
        }

        function calculateTotalPoints(user) {
            return user.catches.reduce((total, catchEntry) => total + calculatePoints(catchEntry), 0);
        }

        function updateLeaderboard() {
            const leaderboard = document.getElementById('leaderboard');
            leaderboard.innerHTML = '';

            users.sort((a, b) => calculateTotalPoints(b) - calculateTotalPoints(a)).forEach((user, index) => {
                user.catches.forEach((catchEntry, catchIndex) => {
                    const row = document.createElement('tr');
                    const pulsateClass = index < 3 ? 'pulsate' : '';
                    row.innerHTML = `
                        <td class="${pulsateClass}">${index + 1}</td>
                        <td class="${pulsateClass}">${user.username}</td>
                        <td class="${pulsateClass}">${calculatePoints(catchEntry)}</td>
                        ${user.username === currentUser?.username ? `<td><button onclick="deleteCatch('${user.username}', ${catchIndex})">Delete</button></td>` : '<td class="hidden"></td>'}
                    `;
                    leaderboard.appendChild(row);
                });
            });
        }

        function showDetails(username) {
            const user = users.find(user => user.username === username);

            if (user) {
                const details = user.catches.map(catchEntry => `
                    Bluegill: ${catchEntry.blue
